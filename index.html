<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>李菲菲的浪漫星空</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      color: white;
      font-family: 'ZCOOL KuaiLe', cursive;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -2;
    }

    .center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      backdrop-filter: blur(10px);
      padding: 40px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 20px rgba(255,255,255,0.2);
      z-index: 10;
    }

    h1 {
      font-size: 3em;
      color: #ffecb3;
    }

    .time {
      font-size: 1.5em;
      margin-top: 10px;
    }

    .typewriter {
      margin-top: 30px;
      font-size: 1.2em;
      white-space: nowrap;
      overflow: hidden;
      border-right: 3px solid rgba(255,255,255,0.75);
      animation: typing 6s steps(40, end), blink 0.75s step-end infinite;
      width: 0;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink {
      50% { border-color: transparent; }
    }

    .stars {
      position: fixed;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      pointer-events: none;
    }

    .star, .heart {
      position: absolute;
      animation: float 10s linear infinite;
      opacity: 0.6;
    }

    .star {
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
    }

    .heart {
      width: 12px;
      height: 12px;
      background: pink;
      transform: rotate(45deg);
    }

    .heart::before,
    .heart::after {
      content: "";
      width: 12px;
      height: 12px;
      background: pink;
      border-radius: 50%;
      position: absolute;
    }

    .heart::before { top: -6px; left: 0; }
    .heart::after { top: 0; left: -6px; }

    @keyframes float {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh);
        opacity: 0;
      }
    }

    audio {
      display: none;
    }
  </style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="center">
  <h1>李菲菲</h1>
  <div class="time">正在计算天数...</div>
  <div class="typewriter">你知道吗？自从遇见你，平凡的日子也开始发光。</div>
</div>

<audio id="bgm" autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/08/22/audio_342f3434a2.mp3" type="audio/mpeg">
</audio>

<div class="stars" id="particles"></div>

<script>
  // 日期计时器
  var starttime = new Date("2007/03/08");
  setInterval(function () {
    var nowtime = new Date();
    var time = starttime - nowtime;
    var day = -parseInt(time / 1000 / 60 / 60 / 24);
    var hour = parseInt(time / 1000 / 60 / 60 % 24 + 22);
    var minute = parseInt(time / 1000 / 60 % 60);
    var seconds = parseInt(time / 1000 % 60);
    document.querySelector('.time').innerHTML = `${day} 天 ${hour} 时 ${minute} 分 ${seconds} 秒`;
  }, 1000);

  // 爱心+星星粒子
  function createParticles() {
    const container = document.getElementById('particles');
    for (let i = 0; i < 30; i++) {
      let el = document.createElement('div');
      el.className = (Math.random() > 0.5 ? 'star' : 'heart');
      el.style.left = Math.random() * 100 + 'vw';
      el.style.top = Math.random() * 100 + 'vh';
      el.style.animationDuration = 5 + Math.random() * 5 + 's';
      el.style.opacity = Math.random();
      container.appendChild(el);
    }
  }
  createParticles();

  // 星空背景
  const canvas = document.getElementById("bg");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const stars = [];

  for (let i = 0; i < 100; i++) {
    stars.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 1.5,
      d: Math.random() * 0.5
    });
  }

  function drawStars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "white";
    ctx.beginPath();
    for (let i = 0; i < stars.length; i++) {
      const s = stars[i];
      ctx.moveTo(s.x, s.y);
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2, true);
    }
    ctx.fill();
    updateStars();
  }

  function updateStars() {
    for (let i = 0; i < stars.length; i++) {
      const s = stars[i];
      s.y -= s.d;
      if (s.y < 0) s.y = canvas.height;
    }
  }

  setInterval(drawStars, 30);

  // 首次进入弹出祝福
  setTimeout(() => {
    Swal.fire({
      title: '❤️ 纪念日小礼物',
      text: '感谢你一直在我身边，从2007年到现在，我会一直爱你。',
      icon: 'info',
      confirmButtonText: '我也爱你'
    });
  }, 1000);
</script>

</body>
</html>
